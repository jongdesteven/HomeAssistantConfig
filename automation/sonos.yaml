
- id: automation_sonos_1
  alias: Sonos Slaapkamer off with remote
  trigger:
  - platform: event
    event_type: zha_event
    event_data:
      device_ieee: "68:0a:e2:ff:fe:12:36:f0"
      command: "off"
  condition:
    condition: and
    conditions:
      - condition: state
        entity_id: light.slaapkamer
        state: 'off'
      - condition: state
        entity_id: media_player.bedroom
        state: 'playing'
  action:
    service: media_player.media_pause
    entity_id: media_player.bedroom

- id: automation_sonos_2
  alias: "Cube: Volume change"
  trigger:
  - platform: event
    event_type: zha_event
    event_data:
      device_ieee: "00:15:8d:00:01:14:72:c6"
      command: "rotate_left"
  - platform: event
    event_type: zha_event
    event_data:
      device_ieee: "00:15:8d:00:01:14:72:c6"
      command: "rotate_right"
  condition:
    - condition: state
      entity_id: media_player.kitchen
      state: "playing"
  action:
    - service: media_player.volume_set
      data_template:
        entity_id: media_player.kitchen, media_player.woonkamer
        volume_level: "{{ (state_attr('media_player.kitchen', 'volume_level') + trigger.event.data.args.relative_degrees/1000) | round(2) | float }}"

- id: automation_sonos_3
  alias: "Cube: Play/Pause Kitchen"
  trigger:
  - platform: event
    event_type: zha_event
    event_data:
      device_ieee: "00:15:8d:00:01:14:72:c6"
      command: "flip"
      args:
        flip_degrees: 180
  action:
    - service: media_player.media_play_pause
      entity_id: media_player.kitchen

- id: automation_sonos_4
  alias: "Cube: next track Kitchen"
  trigger:
  - platform: event
    event_type: zha_event
    event_data:
      device_ieee: "00:15:8d:00:01:14:72:c6"
      command: "flip"
      args:
        flip_degrees: 90
  action:
    - service: media_player.media_next_track
      entity_id: media_player.kitchen

