
- id: automation_7
  alias: Alarm clock fade in lights
  trigger:
    platform: time_pattern
    minutes: /1
  condition:
    condition: and
    conditions:
    - condition: template
      value_template: '{{ now().strftime("%H:%M") == states.sensor.alarm_clock_time.state
        }}'
    - condition: or
      conditions:
      - condition: and
        conditions:
        - condition: state
          entity_id: input_boolean.alarm_clock_status
          state: 'on'
        - condition: time
          weekday:
          - mon
          - tue
          - wed
          - thu
          - fri
      - condition: and
        conditions:
        - condition: state
          entity_id: input_boolean.alarm_clock_weekend_status
          state: 'on'
        - condition: time
          weekday:
          - sat
          - sun
  action:
  - service: light.turn_on
    data_template:
      entity_id: light.slaapkamer
      transition: '{{ states.sensor.alarm_clock_fade_in_minutes.state | int * 60 }}'
      profile: energize
- id: automation_8
  alias: Set Sonos Alarm Weekday
  trigger:
  - platform: state
    entity_id: input_boolean.alarm_clock_status
    to: 'on'
  action:
  - service: sonos.update_alarm
    data_template:
      entity_id: media_player.bedroom
      alarm_id: 3
      time: '{{ states.sensor.alarm_clock_time.state }}'
      enabled: true
- id: automation_8a
  alias: Set Sonos Alarm Weekend
  trigger:
  - platform: state
    entity_id: input_boolean.alarm_clock_weekend_status
    to: 'on'
  action:
  - service: sonos.update_alarm
    data_template:
      entity_id: media_player.bedroom
      alarm_id: 61
      time: '{{ states.sensor.alarm_clock_time.state }}'
      enabled: true
- id: automation_9
  alias: Disable Sonos Alarm Weekdays
  trigger:
  - platform: state
    entity_id: input_boolean.alarm_clock_status
    to: 'off'
  action:
  - service: sonos.update_alarm
    data_template:
      entity_id: media_player.bedroom
      alarm_id: 3
      enabled: false
- id: automation_9a
  alias: Disable Sonos Alarm Weekend
  trigger:
  - platform: state
    entity_id: input_boolean.alarm_clock_weekend_status
    to: 'off'
  action:
  - service: sonos.update_alarm
    data_template:
      entity_id: media_player.bedroom
      alarm_id: 61
      enabled: false
- id: automation_10
  alias: Change Alarm Clock time
  trigger:
  - platform: state
    entity_id: sensor.alarm_clock_time
  action:
  - service: sonos.update_alarm
    data_template:
      entity_id: media_player.bedroom
      alarm_id: 3
      time: '{{ states.sensor.alarm_clock_time.state }}'
  - service: sonos.update_alarm
    data_template:
      entity_id: media_player.bedroom
      alarm_id: 61
      time: '{{ states.sensor.alarm_clock_time.state }}'
